import asyncpg
import asyncio
from config import TOKEN, ADMIN_CHAT_ID, PGPASS, DB_USER, DB_NAME, DB_HOST, DB_PORT

async def seed_data():
    conn = await asyncpg.connect(
        user=DB_USER,
        password=PGPASS,
        database=DB_NAME,
        host=DB_HOST,
        port=DB_PORT
    )

    # Очистка старых данных (опционально)
    await conn.execute("DELETE FROM exercise_type_links;")
    await conn.execute("DELETE FROM exercises;")
    await conn.execute("DELETE FROM exercise_types;")

    # Типы упражнений
    exercise_types = [
        (1, "Глаза"),
        (2, "Руки"),
        (3, "Ноги"),
        (4, "Растяжка"),
        (5, "Пресс"),
        (6, "Спина")
    ]

    for et_id, name in exercise_types:
        await conn.execute(
            "INSERT INTO exercise_types (id, name) VALUES ($1, $2)",
            et_id, name
        )

    # Упражнения
    exercises = [
        (1, "Моргание с паузами", 1, "Быстро моргайте 10 секунд, затем 10 секунд держите глаза закрытыми", "3 подхода"),
        (2, "Восьмёрка глазами", 1, "Ведите глазами по воображаемой восьмёрке", "5 повторений"),
        (3, "Перевод фокуса", 1, "Сфокусируйся на ближней и дальней точке поочерёдно", "10 раз"),
        (4, "Круговые движения глазами", 1, "Медленно вращайте глазами по кругу", "3 круга в каждую сторону"),
        (5, "Давление на глаза", 1, "Закрой глаза и слегка надави ладонями", "3 раза по 10 секунд"),
        (6, "Отжимания от стены", 1, "Встань напротив стены и отжимайся", "3 подхода по 10 раз"),
        (7, "Отжимания классические", 3, "Отжимания с прямым телом", "3 подхода по 15 раз"),
        (8, "Узкие отжимания", 4, "Ладони ближе друг к другу — акцент на трицепс", "3 подхода по 10 раз"),
        (9, "Разгибание рук назад стоя", 2, "Согни руки и выпрямляй назад", "15 раз"),
        (10, "Планка на прямых руках", 5, "Прямые руки, держать планку", "3 подхода по 30 сек"),
        (11, "Приседания", 1, "Классические приседания", "3 подхода по 15 раз"),
        (12, "Выпады назад", 2, "Поочерёдно делай шаг назад и опускайся", "10 на каждую ногу"),
        (13, "Приседания с прыжком", 4, "Присед + прыжок вверх", "3 подхода по 10 раз"),
        (14, "Стул у стены", 3, "Присядь к стене и держись", "3 подхода по 30 секунд"),
        (15, "Подъём на носки", 1, "Поднимайся на носки, держи баланс", "20 раз"),
        (16, "Наклоны к ногам сидя", 1, "Тянись руками к стопам сидя", "3 подхода по 20 секунд"),
        (17, "Наклоны стоя", 1, "Тянись к полу с прямыми ногами", "3 подхода по 20 секунд"),
        (18, "Скрутка лёжа", 2, "Лёжа, крути туловище в стороны", "10 раз в каждую сторону"),
        (19, "Потягивания в сторону", 1, "Стоя, тяни руку над головой в сторону", "3 подхода по 15 секунд"),
        (20, "Кошка-корова (йога)", 2, "Попеременно прогибай и округляй спину", "15 раз"),
        (21, "Скручивания", 2, "Лёжа, руки за головой — скручивание вверх", "3 подхода по 15 раз"),
        (22, "Планка на локтях", 3, "Удержание планки на локтях", "3 подхода по 30 сек"),
        (23, "Ножницы", 4, "Лёжа, попеременно поднимай ноги", "3 подхода по 20 сек"),
        (24, "Велосипед", 3, "Имитируй кручение педалей лёжа", "30 сек × 2 подхода"),
        (25, "Подъём ног лёжа", 2, "Лёжа на спине, ноги вверх и вниз", "15 повторений")
    ]

    for ex in exercises:
        await conn.execute(
            "INSERT INTO exercises (id, name, level, description, repetitions) VALUES ($1, $2, $3, $4, $5)",
            *ex
        )

    # Связи упражнений с типами
    links = [
        (1, 1), (2, 1), (3, 1), (4, 1), (5, 1),
        (6, 2), (7, 2), (8, 2), (9, 2), (10, 2), (10, 5),
        (11, 3), (12, 3), (13, 3), (14, 3), (15, 3),
        (16, 4), (17, 4), (18, 4), (19, 4), (20, 4), (20, 6),
        (21, 5), (22, 5), (23, 5), (24, 5), (25, 5)
    ]

    for exercise_id, type_id in links:
        await conn.execute(
            "INSERT INTO exercise_type_links (exercise_id, type_id) VALUES ($1, $2)",
            exercise_id, type_id
        )

    await conn.close()
    print("✅ База успешно заполнена данными!")


asyncio.run(seed_data())
